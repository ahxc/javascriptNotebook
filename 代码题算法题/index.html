<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    >
    <title>代码题算法题</title>
</head>

<style>
</style>

<body>
    <div class="box1">
        <div class="box2"></div>
    </div>

    <script>
        // 判断一个字符串是否为对称数，例：'123321'
        function symmetry(str = '') {
            return str === str.split('').reverse().join('');
        }

        // 使用promise每隔一秒输出123
        async function print() {
            // 基础原理
            // for (let i = 1; i < 4; i++) {
            //     setTimeout(() => {
            //         console.log(i);
            //     }, i * 1000);
            // }

            // promise 改造
            for (let i = 1; i < 4; i++) {
                pro(i);
            }

            function pro(interval) {
                return new Promise((resolve,) => {
                    setTimeout(() => {
                        console.log(interval);
                        resolve(interval); // 无此句失效，只会打印1，因为await 等不到返回结果，for循环会立即执行，
                    }, 1000);
                });
            }
        }

        // print();

        // 使用 setTimeout 实现 setInterval，
        // 注意：setTimeout执行完毕不使用变量保存会自动清空不需手动清空。setInterval也没有立即执行属性。
        function setInterval(fn, time) {
            function recursion(params) {
                setTimeout(() => {
                    recursion();
                    fn.apply(this, arguments);
                }, time);
            }
            recursion();
        }

        // setInterval(() => {
        //     let i = 0;
        //     i += 1;
        //     console.log(i);
        // }, 1000);

        // 查找第K个最大元素
        function findKLargest(array, k) {
            const list = Array.from(new Set(array)).sort((a, b) => a - b);
            return list[k - 1];
        }

        // 抚平嵌套数组
        function flatArray(array) {
            // return array.flat();
            const l = [];
            function flat(arrayflat) {
                arrayflat.forEach((i) => {
                    if (Array.isArray(i)) {
                        flat(i);
                    }
                    else {
                        l.push(i);
                    }
                });
            }

            flat(array);

            return l;
        }

        // console.log(flatArray([1, 2, [23], 3, 4, [2, 3, [2, [3, [4]]], [24, 4]]]))

        // 数组排序，先排数字，再排字母，["B3", "D2", "F1", "A9", "D12", "A2", "C1", "Z0", "B1"]
        function sortData(data) {
            return data.sort((a, b) => {
                const [codeA, typeA, numA] = a.match(/([A-Z])(\d+)/);
                const [codeB, typeB, numB] = b.match(/([A-Z])(\d+)/);

                const numComparison = parseInt(numA) - parseInt(numB);
                if (numComparison !== 0) {
                    return numComparison;
                } else {
                    return typeA.localeCompare(typeB);
                }
            });
        }

        const data = ["B3", "D2", "F1", "A9", "D12", "A2", "C1", "Z0", "B1"];
    </script>
</body>

</html>